CXX:=@CXX@
CPPFLAGS:=-I../../include/libdodo @CPPFLAGS@
LDFLAGS:= -L../.. @LDFLAGS@
CFLAGS:=@CFLAGS@
DEFINES:=-D_REENTRANT -D_GNU_SOURCE -D__USE_UNIX98 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 @DEFS@

all: test module

test: test.cc
	$(CXX) $(DEFINES) $(CPPFLAGS) $(LDFLAGS) $(CFLAGS) -ldodo $^ -o $@ 

module: module.cc
	$(CXX) $(DEFINES) $(CPPFLAGS) $(LDFLAGS) $(CFLAGS) -Wall -shared -ldodo -fPIC $^ -o $@ 
	
clean:
	rm -rf test module
